<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>家計簿</title>
  <link rel="manifest" href="manifest.json" />
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>
  <style>
    body { font-family: sans-serif; padding: 1em; background: #f5f5f5; }
    input, select, button { width: 100%; margin: 0.5em 0; padding: 0.5em; }
    .entry { background: #fff; padding: 1em; margin: 0.5em 0; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>共有家計簿</h1>
<!--   <button onclick="login()">Googleでログイン</button> -->
  <div id="main" style="display:none;">
    <label>共有コード（例: ourfamily123）</label>
    <input type="text" id="householdId" placeholder="共有IDを入力" />
    <button onclick="setHousehold()">確定</button>

    <div id="form" style="display:none;">
      <label>日付</label>
      <input type="date" id="date" />
      <label>金額</label>
      <input type="number" id="amount" />
      <label>カテゴリ</label>
      <select id="category">
        <option>食費</option><option>燃料費</option><option>衣服代</option><option>娯楽</option><option>その他</option>
      </select>
      <label>メモ</label>
      <input type="text" id="note" />
      <button onclick="addExpense()">追加</button>

      <h2>月選択</h2>
      <input type="month" id="monthSelector" />

      <h3>今月の合計: ¥<span id="total">0</span></h3>
      <div id="list"></div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script src="app.js"></script>
</body>
</html>

